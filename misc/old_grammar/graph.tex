\documentclass{article}
\usepackage[margin=0.5in]{geometry}
\newcommand{\deriv}[2]
{  \renewcommand{\arraystretch}{.5}
$\begin{array}[t]{*{#1}{c}}
     #2
   \end{array}$ }
\newcommand{\gf}[1]{\textsf{\textsl{#1}}}
\newcommand{\cf}[1]{\mbox{\ensuremath{\cfont{#1}}}}
\newcommand{\uline}[1]
{\mc{#1}{\hrulefill} }
\newcommand{\mc}[2]
  {\multicolumn{#1}{c}{#2}}
\newcommand{\cfont}{\mathsf}
\newcommand{\bs}{\backslash}
\newcommand{\subsa}[1]{\hspace{-0.75mm}_{_{#1}}}
\newcommand{\subsb}[1]{\hspace{-0.10mm}_{_{#1}}}
\newcommand{\subs}[1]{\hspace{-0.40mm}_{#1}}
\newcommand{\subsf}[1]{\hspace{-0.75mm}_{_{#1}}}
\newcommand{\supsa}[1]{\hspace{-1.75mm}^{^{#1}} }
\newcommand{\supsb}[1]{\hspace{-0.80mm}^{^{#1}}  }
\newcommand{\sups}[1]{\hspace{-0.40mm}^{#1}}
\pagestyle{empty}
\begin{document}
\deriv{5}{
\gf{the} & \gf{ball} & \gf{on} & \gf{the} & \gf{table} \\
\uline{1} & \uline{1} & \uline{1} & \uline{1} & \uline{1} \\
\cf{np \subsf{   < 1 >  Z \_ 0 ,  3rd } / \subsa{\diamond} n \subsf{   < 1 >  X \_ 0:sem-obj } } & \cf{n \subsf{   < 2 >  X \_ 1:object ,  sg } } & \cf{pp \subsf{  acc ,  INDEX3 \_ 4 ,  on } / np \subsf{   < 6 >  acc ,  INDEX3 \_ 4 } } & \cf{np \subsf{   < 8 >  Z \_ 6 ,  3rd } / \subsa{\diamond} n \subsf{   < 8 >  X \_ 6:sem-obj } } & \cf{n \subsf{   < 9 >  X \_ 7:surface ,  sg } } \\
 \mc{2} {\hrulefill_{>}} \\
 \mc{2}{\cf{np \subsf{   < 12 >  X \_ 1:object ,  sg ,  3rd } }} \\
&&& \mc{2} {\hrulefill_{>}} \\
&&& \mc{2}{\cf{np \subsf{   < 20 >  X \_ 7:surface ,  sg ,  3rd } }} \\
 \mc{2} {\hrulefill_{<\mathbf{T}}}\\
 \mc{2}{\cf{s \subsf{ < 14 > } \$ \subs{1}\bs \supsa{+} \hspace{-0.50mm} \subsb{i} (s \subsf{ < 14 > } \$ \subs{1}/ \supsb{+} \hspace{-1.45mm} \subsa{i} np \subsf{   < 12 >  X \_ 1:object ,  sg ,  3rd } )}} \\
&& \mc{3} {\hrulefill_{>}} \\
&& \mc{3}{\cf{pp \subsf{  acc ,  X \_ 7:surface ,  on } }} \\
&& \mc{3} {\hrulefill_{<\mathbf{T}}}\\
&& \mc{3}{\cf{s \subsf{ < 27 > } \$ \subs{1}\bs \supsa{+} \hspace{-0.50mm} \subsb{i} (s \subsf{ < 27 > } \$ \subs{1}/ \supsb{+} \hspace{-1.45mm} \subsa{i} pp \subsf{  acc ,  X \_ 7:surface ,  on } )}} \\
 \mc{5} {\hrulefill_{<\mathbf{B}}}\\
 \mc{5}{\cf{s \subsf{ < 38 > } \$ \subs{1}\bs \supsa{+} \hspace{-0.50mm} \subsb{i} (s \subsf{ < 38 > } \$ \subs{1}/ \supsb{+} \hspace{-1.45mm} \subsa{i} pp \subsf{  acc ,  X \_ 7:surface ,  on } / \supsb{+} \hspace{-1.45mm} \subsa{i} np \subsf{   < 12 >  X \_ 1:object ,  sg ,  3rd } )}} \\
}

\vspace{5mm}

\deriv{5}{
\gf{the} & \gf{ball} & \gf{on} & \gf{the} & \gf{table} \\
\uline{1} & \uline{1} & \uline{1} & \uline{1} & \uline{1} \\
\cf{np \subsf{   < 1 >  Z \_ 0 ,  3rd } / \subsa{\diamond} n \subsf{   < 1 >  X \_ 0:sem-obj } } & \cf{n \subsf{   < 2 >  X \_ 1:object ,  sg } } & \cf{pp \subsf{  acc ,  INDEX3 \_ 4 ,  on } / np \subsf{   < 6 >  acc ,  INDEX3 \_ 4 } } & \cf{np \subsf{   < 8 >  Z \_ 6 ,  3rd } / \subsa{\diamond} n \subsf{   < 8 >  X \_ 6:sem-obj } } & \cf{n \subsf{   < 9 >  X \_ 7:surface ,  sg } } \\
 \mc{2} {\hrulefill_{>}} \\
 \mc{2}{\cf{np \subsf{   < 12 >  X \_ 1:object ,  sg ,  3rd } }} \\
&& \mc{2} {\hrulefill_{>\mathbf{B}}}\\
&& \mc{2}{\cf{pp \subsf{  acc ,  Z \_ 6 ,  on } / \subsa{\diamond} n \subsf{   < 18 >  acc ,  X \_ 6:sem-obj ,  3rd } }} \\
 \mc{2} {\hrulefill_{<\mathbf{T}}}\\
 \mc{2}{\cf{s \subsf{ < 14 > } \$ \subs{1}\bs \supsa{+} \hspace{-0.50mm} \subsb{i} (s \subsf{ < 14 > } \$ \subs{1}/ \supsb{+} \hspace{-1.45mm} \subsa{i} np \subsf{   < 12 >  X \_ 1:object ,  sg ,  3rd } )}} \\
&& \mc{3} {\hrulefill_{>}} \\
&& \mc{3}{\cf{pp \subsf{  acc ,  Z \_ 6 ,  on } }} \\
&& \mc{3} {\hrulefill_{<\mathbf{T}}}\\
&& \mc{3}{\cf{s \subsf{ < 28 > } \$ \subs{1}\bs \supsa{+} \hspace{-0.50mm} \subsb{i} (s \subsf{ < 28 > } \$ \subs{1}/ \supsb{+} \hspace{-1.45mm} \subsa{i} pp \subsf{  acc ,  Z \_ 6 ,  on } )}} \\
 \mc{5} {\hrulefill_{<\mathbf{B}}}\\
 \mc{5}{\cf{s \subsf{ < 42 > } \$ \subs{1}\bs \supsa{+} \hspace{-0.50mm} \subsb{i} (s \subsf{ < 42 > } \$ \subs{1}/ \supsb{+} \hspace{-1.45mm} \subsa{i} pp \subsf{  acc ,  Z \_ 6 ,  on } / \supsb{+} \hspace{-1.45mm} \subsa{i} np \subsf{   < 12 >  X \_ 1:object ,  sg ,  3rd } )}} \\
}

\vspace{5mm}

\end{document}
